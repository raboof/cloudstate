cloudstate-tck.verify = ["Akka + Node.js", "Akka + Java"]
cloudstate-tck.combinations = [{
  name = "Akka + Node.js"
  tck {
    hostname = "0.0.0.0"
    port = 8090
  }
  proxy {
    hostname = "127.0.0.1"
    port = 9000
    directory = ${user.dir}
    command = ["java","-Xmx512M", "-Xms128M", "-Dconfig.resource=in-memory.conf", "-Dcloudstate.proxy.dev-mode-enabled=true", "-jar", "proxy/core/target/scala-2.13/akka-proxy.jar"]
    env-vars {
      USER_FUNCTION_PORT = "8090"
    }
  }

  service {
    hostname = "127.0.0.1"
    port = 8080
    directory = ${user.dir}/node-support/tck
    command = ["node", "index.js"]
    env-vars {
      DEBUG = "cloudstate-*"
    }
  }
},{
  name = "Akka + Java"
  tck {
    hostname = "0.0.0.0"
    port = 8090
  }
  proxy {
    hostname = "127.0.0.1"
    port = 9000
    directory = ${user.dir}
    command = ["java","-Xmx512M", "-Xms128M", "-Dconfig.resource=in-memory.conf", "-Dcloudstate.proxy.dev-mode-enabled=true", "-jar", "proxy/core/target/scala-2.13/akka-proxy.jar"]
    env-vars {
      USER_FUNCTION_PORT = "8090"
    }
  }

  service {
    hostname = "127.0.0.1"
    port = 8088
    directory = ${user.dir}/java-support/tck
    command = ["java","-Xmx512M", "-Xms128M", "-jar", "target/scala-2.13/cloudstate-java-tck.jar"]
    env-vars {
      HOST = "127.0.0.1"
      PORT = "8088"
    }
  }
}]
